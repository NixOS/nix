<appendix xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xml:id="chap-hacking">

<title>Hacking</title>

<para>This section provides some notes on how to hack on Nix.  To get
the latest version of Nix from GitHub:
<screen>
<prompt>$ </prompt>git clone git://github.com/NixOS/nix.git
<prompt>$ </prompt>cd nix
</screen>
</para>

<para>To build it and its dependencies:
<screen>
<prompt>$ </prompt>nix-build release.nix -A build.x86_64-linux
</screen>
</para>

<para>To build all dependencies and start a shell in which all
environment variables are set up so that those dependencies can be
found:
<screen>
<prompt>$ </prompt>nix-shell
</screen>
To build Nix itself in this shell:
<screen>
<prompt>[nix-shell]$ </prompt>./bootstrap.sh
<prompt>[nix-shell]$ </prompt>configurePhase
<prompt>[nix-shell]$ </prompt>make
</screen>
To install it in <literal>$(pwd)/inst</literal> and test it:
<screen>
<prompt>[nix-shell]$ </prompt>make install
<prompt>[nix-shell]$ </prompt>make installcheck
</screen>

</para>

</appendix>
